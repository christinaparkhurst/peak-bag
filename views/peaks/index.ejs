<!DOCTYPE html>
<html lang="en">
<head>
  <% include ../partials/head %>
</head>

<body class="container-fluid">
  <header>
    <% include ../partials/header %>
  </header>

  <main>
    <div>
      <h2>My Peaks</h2>
        <h3>Bagged:</h3>
          <% peaks.forEach(function(peak) { %>
            <% if (peak.summitted === true) { %>
              <h4>
                <a href="/peaks/<%= peak._id %>">
                  <%= peak.name %>, <%= peak.latitude %>,
                  <%= peak.coords %>
                </a>
              </h4>
            <% } %>
          <% }) %>

      <h3>Wish List:</h3>
          <% peaks.forEach(function(peak) { %>
            <% if (peak.summitted === false) { %>
              <h4>
                <a href="/peaks/<%= peak._id %>">
                  <%= peak.name %>
                </a>
              </h4>
            <% } %>
          <% }) %>
    <a href="/peaks/new" class="btn btn-primary">Add New</a>
    </div>
  </main>

  <div class="container-fluid" id="map"></div>
    <script>
      var map;
      var myLatLng = {lat: 37.745597, lng: -119.533575};

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: myLatLng,
          zoom: 4,
          mapTypeId: 'terrain'
        });
        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
          // draggable: true,
          title: 'Peak'
        });

        map.data.loadGeoJson('https://storage.googleapis.com/mapsdevsite/json/google.json');

      }
    </script>

    <script async defer
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBXYwecmru-Up50RZpMUPXOaKGnMyEa3-k&callback=initMap">
        </script>


  <footer>
    <% include ../partials/footer %>
  </footer>
</body>
</html>
